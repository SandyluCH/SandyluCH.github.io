## type system
dart语言类型是安全的，它使用静态类型检查和运行时检查的组合来确保变量的值始终与变量的静态类型匹配。尽管类型是必需的， 但由于类型推断，类型注释是可选的。

静态类型检查的一个好处是能够使用Dart的静态分析器在编译时找到错误。

您可以通过向泛型类添加类型注释来修复大多数静态分析错误。最常见的泛型类是集合类型List<T>和Map<K,V>。

例子1：
````
void printInts(List<int> a) => print(a);
void main(){
  var list = [];
  list.add(1);
  list.add('2');
  printInts(list);
}

````
上述代码运行会报错， 因为一个不健全的隐式转换（List<dynamic> 转换List<int>）。该list变量的静态类型List<dynamic>, 这是因为初始化声明var list = [] 没有为分析器提供足够的信息来推断出比其更具体的类型参数dynamic, 该printInt()函数需要一个类型的参数List<int>, 导致类型不匹配。
修正上述代码，运行正确的代码是：
````
void printInts(List<int> a) => print(a);
void main(){
  var list = <int>[];
  list.add(1);
  list.add(2);
  printInts(list);
}

````

健全性是为了确保您的程序无法进入某些无效状态。健全类型系统意味着您永远不会进入表达式求值为与表达式的静态类型不匹配的值的状态。例如， 如果表达式的静态类型是String, 则在运行时，可以保证只获取字符串。

Dart的类型系统， 使用静态检查（编译时错误）和运行时检查的组合来强制执行该健全性。

健全的好处：
- 在编译时显示与类型相关的错误。 健全类型系统强制代码明确其类型，因此在编译时会显示在运行时可能很难找到的与类型相关的错误。
- 更易读的代码。
- 更易于维护的代码。 使用健全系统，当您更改一段代码时，类型系统可以警告您刚刚破坏其他代码片段。
- 提前更好（AOT）编译。虽然可以在没有类型的情况下进行AOT编译，但生成的代码效率要低很多。


运行时检查Dart VM和dartdevc等工具处理分析器无法捕获的类型安全问题。


### 类型推算
分析器可以推断字段、方法、局部变量和大多数泛型类型参数的类型。当分析器没有足够的信息来推断特定类型时，它会使用该dynamic类型。
- Field and method 推断 
没有指定类型且从超类重写字段或方法的字段或方法继承超类方法或字段的类型。
没有声明或继承类型但使用初始值声明的字段将根据初始值获取推断类型。

- static field 推断
静态字段和变量从其初始化程序中推断出他们的类型。

- local variable推断
从它们的初始化器推断出来的。

- Type argument inference

### 替代类型

